<!DOCTYPE html>
<html>
<head>
  <title>Gojo Domain Expansion</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
      color: white;
      text-align: center;
      font-family: Arial;
    }

    h1 {
      text-shadow: 0 0 20px purple;
    }

    video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.2;
    }

    .energy {
      position: absolute;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: explode 1s ease-out forwards;
    }

    @keyframes explode {
      0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(5); opacity: 0; }
    }
  </style>
</head>
<body>

<h1>GOJO DOMAIN ACTIVATED</h1>
<video id="video" autoplay playsinline></video>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
const video = document.getElementById('video');

navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
  video.srcObject = stream;
});

function createEnergy(color) {
  const energy = document.createElement("div");
  energy.className = "energy";
  energy.style.background = color;
  energy.style.boxShadow = `0 0 80px ${color}`;
  document.body.appendChild(energy);

  setTimeout(() => {
    energy.remove();
  }, 1000);
}

const hands = new Hands({
  locateFile: file => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`
});

hands.setOptions({
  maxNumHands: 1,
  minDetectionConfidence: 0.7,
  minTrackingConfidence: 0.7
});

hands.onResults(results => {
  if (results.multiHandLandmarks.length > 0) {
    const lm = results.multiHandLandmarks[0];

    const indexUp = lm[8].y < lm[6].y;
    const middleUp = lm[12].y < lm[10].y;
    const ringUp = lm[16].y < lm[14].y;
    const pinkyUp = lm[20].y < lm[18].y;

    // One finger → Blue
    if (indexUp && !middleUp && !ringUp && !pinkyUp) {
      createEnergy("blue");
    }

    // Two fingers → Red
    if (indexUp && middleUp && !ringUp && !pinkyUp) {
      createEnergy("red");
    }

    // Open palm → Purple
    if (indexUp && middleUp && ringUp && pinkyUp) {
      createEnergy("purple");
    }
  }
});

const camera = new Camera(video, {
  onFrame: async () => {
    await hands.send({ image: video });
  },
  width: 640,
  height: 480
});

camera.start();
</script>

</body>
</html>
